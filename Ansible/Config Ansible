



Ansible config file:










The configuration file
Changes can be made and used in a configuration file which will be searched for in the following order:




1-	ANSIBLE_CONFIG (environment variable if set)

2-	ansible.cfg (in the current directory)

3-	.ansible.cfg (in the home directory)

4-	/etc/ansible/ansible.cfg










(env3) [hamid@localhost Ansible]$ ls /etc/ansible/
ansible.cfg  hosts













-----------------------------------------------
-----------------------------------------------
-----------------------------------------------
-----------------------------------------------
-----------------------------------------------
-----------------------------------------------







[webservers]
foo.example.com	ansible_host=10.10.10.10
bar.example.com
1.2.3.4



[dbservers]
one.example.com ansible_host=10.10.10.20
10.20.30.[1:100]
dbserver[1:3]


[myservers:children]
webservers
dbservers
testserver ansible_user=hamid ansible_port=2222


-----------------------------------------------




ansible_host=10.10.10.20




-----------------------------------------------




set variable for all group members:



[dbservers:vars]
ansible_user=test-user
ansible_port=2222





-----------------------------------------------





set variable for all devices:



[all:vars]
ansible_user=user1
ansible_port=22




-----------------------------------------------
-----------------------------------------------
-----------------------------------------------
-----------------------------------------------






(env3) [hamid@localhost Ansible]$ ansible --list-hosts webservers

  hosts (3):
    foo.example.com
    bar.example.com
    1.2.3.4






-----------------------------------------------
-----------------------------------------------
-----------------------------------------------





show config of ansible:



(env3) [hamid@localhost Ansible]$ ansible-config view 






-----------------------------------------------





(env3) [hamid@localhost Ansible]$ ansible-config dump --only-changed







-----------------------------------------------





by default, it can config 5 devices at the same time:


(env3) [hamid@localhost Ansible]$ cat /etc/ansible/ansible.cfg  | grep forks
#forks          = 5








(env3) [hamid@localhost Ansible]$ sudo nano /etc/ansible/ansible.cfg  


(env3) [hamid@localhost Ansible]$ cat /etc/ansible/ansible.cfg  | grep forks
forks          = 50











to check changed config:

(env3) [hamid@localhost Ansible]$ ansible-config dump --only-changed
DEFAULT_FORKS(/etc/ansible/ansible.cfg) = 50







-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------












-----------------------------------------------